<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>cisball</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css" />
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/notie/dist/notie.min.css">
        <script src="https://unpkg.com/notie"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        
        <style>
            .notie-fullscreen {
                display:table-cell; 
                height: 90vh; 
                vertical-align: middle; 
                text-align: center;
            }            
            .notie-container {
                z-index: 41;
            }
            .notification {
                background-color: unset;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <section class="section">
                <div class="container">
                    <div class="tile is-parent">
                        <div class="tile is-child">
                            <article class="tile is-child notification">                     
                                <span class="title is-1" id="seasonContainer">
                                    <i class="fas fa-futbol"></i>
                                    <i class="fas fa-trophy"></i>                                
                                </span>
                                <div class="select is-large">
                                    <select id="seasonList" v-on:change="loadTable();" v-model="currentSeason">
                                        <option v-for="season of seasons" >{{ season.name }}</option>
                                    </select>
                                </div>
                                <table id="resultTable" class="table is-striped is-hoverable" aria-describedat="Tabelle der Saison">
                                    <thead>
                                        <tr>
                                            <th scope="col">Pos.</th>
                                            <th scope="col">Name</th>
                                            <th scope="col">Spiele</th>
                                            <th scope="col">Torverhältnis</th>
                                            <th scope="col">Punkte</th>
                                        </tr>
                                    </thead>
                                    <tbody id="resultTableBody">
                                        <tr v-for="tableRow of tableEntries">
                                            <td></td>
                                            <td>{{ tableRow.name }}</td>
                                            <td>{{ tableRow.gameCount }}</td>                                            
                                            <td>{{ tableRow.goalsScored }}:{{ tableRow.goalsReceived }}</td>
                                            <td>{{ tableRow.points }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </article>  
                        </div>
                        <div class="tile is-child is-vertical">
                            <article class="tile is-child notification">
                                <h1 class="title px-auto">neues Spiel</h1>
                                <div class="columns is-centered">
                                    <div class="column is-half">
                                        <div class="select is-pulled-right">
                                            <select id="user1" data-source="users" v-model="user1">
                                                <option v-for="user of users" >{{ user.name }}</option>                          
                                            </select>
                                        </div>
                                    </div>
                                    <div class="column is-half">
                                        <div class="select">
                                            <select id="user2" data-source="users" v-model="user2">
                                                <option v-for="user of users" >{{ user.name }}</option>                     
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="control columns is-centered">
                                    <div class="column is-one-quarter"></div>
                                    <div class="select">
                                        <select id="user1Score" v-model="user1Score">    
                                            <option value="10">10</option>
                                            <option value="9">9</option>
                                            <option value="8">8</option>
                                            <option value="7">7</option>
                                            <option value="6">6</option>
                                            <option value="5">5</option>
                                            <option value="4">4</option>
                                            <option value="3">3</option>
                                            <option value="2">2</option>
                                            <option value="1">1</option>
                                            <option value="0">0</option>
                                        </select>
                                    </div>
                                    &nbsp;&nbsp;:&nbsp;&nbsp;
                                    <div class="select">
                                        <select id="user2Score" v-model="user2Score">    
                                            <option value="10">10</option>
                                            <option value="9">9</option>
                                            <option value="8">8</option>
                                            <option value="7">7</option>
                                            <option value="6">6</option>
                                            <option value="5">5</option>
                                            <option value="4">4</option>
                                            <option value="3">3</option>
                                            <option value="2">2</option>
                                            <option value="1">1</option>
                                            <option value="0">0</option>
                                        </select>
                                    </div>
                                    <div class="column is-one-quarter py-0"><button class="button is-primary is-pulled-right mr-3" v-on:click="addMatch()"><i class="fas fa-save"></i></button></div>
                                </div>                               
                            </article>
                        </div>
                    </div>
                </div>

                <button class="button is-primary" title="Spieler hinzufügen" onClick="document.querySelector('#newUserModal').classList.add('is-active');">
                    <i class="fas fa-user-plus"></i>
                </button>
                <div class="modal" id="newUserModal">
                    <div class="modal-background"></div>
                    <div class="modal-card">
                    <header class="modal-card-head">
                        <p class="modal-card-title">Spieler anlegen</p>
                        <button class="delete" aria-label="close" v-on:click="document.querySelector('#newUserModal').classList.remove('is-active');"></button>
                    </header>
                    <section class="modal-card-body">
                            <label for="newUser">Username</label><input class="input column is-one-quarter" type="text" id="newUser" v-model="newUsername">                            
                    </section>
                    <footer class="modal-card-foot">
                    <button class="button is-primary" v-on:click="addUser();">speichern</button>
                    </footer>
                </div>
                </div>
            </section>
        </div>
        <script src="./js/App.js"></script>
    </body>
</html>